# Git 学习笔记
## 一、概述
    Git是一个版本管理系统，它可以基于每一步操作创建不同的版本并实现在不同版本间切换，以及将本地或者不同开发者的版本进行合并，等等。
## 二、常规操作
### 创建仓库
    选择一个你想要创建仓库的目录，cd到该目录下，输入 `git init`命令，此时会在该目录下生成一个`.git`目录，极其重要，勿乱动。
### 区域的划分
    在git中操作时有三个重要的区域，分别是“工作区”，“暂存区”，“仓库区”。
    **文件的提交**日常对文件进行修改时就是在工作区，修改完毕后我们需要使用`git add <file-name>`指令将该次修改命令添加到暂存区，之后使用`git commit -m <自己写的提示词>`将命令提交到仓库区。
    **查看状态**：我们可以使用`git status`指令查看当前Git的工作状态，我们需要经常地输入这个指令以确保我们的操作是正确的。
### 操作的撤销
    **处于工作区的操作**：我们可以直接使用`git checkout -- <file>`指令。
    **处于暂存区的修改**：我们可以使用`git reset HEAD <file>`指令。
    **已经提交到版本库的修改**：我们就需要用到版本回退，这也是Git非常显著的一个功能。我们可以输入`git log`指令查看历史提交版本（输入`git reflog`指令可以查看命令输入历史），（如果嫌输出信息过多，可以试试在后面加上`--pretty=oneline --abbrev-commit修饰条件，前者是单行输入，后者是序列号缩写），然后通过`git reset --hard <序列号>`进行回档，（这里的`--hrad`指的是回到上一个版本的已提交状态，`--soft`是回到未添加状态，`--mixed`是回到已添加未提交状态），同时我们也可以使用`git reset --hard HEAD~<向回推进的版本数>`指令达到同样的效果。
## 远程仓库
    这是Git的一大杀手级功能，允许本地连接到远程仓库，以此实现多人协作。首先我们在Github上创建一个仓库之后找到该仓库的URL地址，使用`git remote add origin <URL地址>`指令将本地库与远程库联系。之后便可以进行上传操作。
### 将本地库上传到远程
    使用`git push <repo-name> <branch-name>`进行推送（首次需要使用`git push -u <repo-name> <branch-name>`指令将本地与远程的分支关联。
### 将远程库克隆到本地
    使用`git clone <URL地址>`指令
## 分支管理
    Git中常见的分支有主分支(main/master)、开发分支(dev)、特性分支(feature)、发布分支(release)、热修复分支(hotfix)以及bug分支。分支就是类似平行宇宙的设定，各个分支的工作内容互不干扰，也可以通过指令进行合并，保证了主干道的安全。
### 创建与切换分支
    我们可以用`git branch <branch-name>`创建一个分支，然后用`git switch <branch-name>`切换到这个分支。也可以用`git switch -c <branch-name>`直接创建并切换到一个分支。
### 合并分支
    使用`git merge <branch-name>`可以将命令中的分支合并到当前分支，不过前提是命令中的分支的修改版本要领先于当前分支。
- 使用`git merge --no-ff -m "修改说明" <branch-name>`可以将合并记录保存。
- 当修改版本同步但修改内容不同时：我们需要直接查看冲突文件的内容并将文件修改到我们需要的版本。
- 使用`git stash`可以将当前的工作状态打包封装起来，以便于我们临时前往其他分支工作，使用`git stash apply`可以将封装内容解封，使用`git stash drop` 可以将封装区的内容删除，而使用`git stash pop`可以直接将封装内容解封并将封装区内容删除。
## 标签管理
    由于版本号过于复杂，因此可以对版本进行打标签，即我们常见的游戏版本v3.0.2等等。
- 创建：输入`git tag <tag-name>`
- 查看标签列表：`git tag`
- 查看标签详细信息：`git show <tag-name>`
- 推送标签：`git push <repo-name> --<tag-name>`用于推送某个标签，`git push <repo-name> --tags`用于推送当前所有为推送的标签。
- 删除标签：`git tag -d <tag-name>`为删除本地标签，`git push <repo-name> :refs/tags/<tag-name>`为删除远程标签。
## 多人协作
    对于前面的克隆远程到本地，该操作可以在多个服务器进行，也就是多人进行工作并协作提交。
### 推送与抓取
    推送与上文的”将本地库上传到远程“一致。
- 当push时本地版本低于等于远程版本时，需要先使用`git pull`将最新的提交抓取下来，然后解决冲突（详见“合并分支”章节）
- 使用`git checkout -b dev <repo-name>/<branch-name>`抓取远程分支即建立联系。
  
  
