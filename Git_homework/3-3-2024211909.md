# Git学习笔记

## （一）基本操作

### 1. 初始化仓库

在项目目录下执行 `git init` 命令，会在当前目录下创建一个 `.git` 子目录，该目录包含了 Git 仓库的所有必要文件，如对象数据库、引用等，标志着 Git 仓库的初始化完成。

### 2. 添加文件到暂存区

使用 `git add <file>` 命令将文件添加到暂存区（Stage）。暂存区是 Git 工作流程中的一个中间区域，用于存放即将提交到仓库的文件更改。

### 3. 提交更改到仓库

执行 `git commit -m "commit message"` 命令将暂存区的更改提交到本地仓库。其中，“commit message”是对本次提交的描述，清晰的提交信息有助于团队成员了解代码更改的内容和目的。

### 4. 查看状态

`git status` 命令用于查看当前工作目录和暂存区的状态，包括哪些文件被修改、哪些文件已添加到暂存区、哪些文件未被跟踪等。

### 5. 查看提交历史

`git log` 命令用于查看项目的提交历史记录，包括提交的作者、日期、提交信息等。通过提交历史，可以了解项目的演进过程，方便回溯和查找特定的代码更改。

## （二）时光机穿梭

### 1.查看提交历史

在进行版本回退之前，需要先查看提交历史，以确定要回退到哪个版本。使用 `git log` 命令可以查看从最近到最远的提交日志，包括 commit id、提交人、日期等信息。如果输出信息太多，可以加上 `--pretty=oneline` 参数，使查询的版本排版更整洁，易于观看。

### 2.回退到上一个版本

如果要回退到上一个版本，可以使用 `git reset --hard HEAD^` 命令。其中，`HEAD^` 表示上一个版本，上上一个版本就是`HEAD^^`，当然往上100个版本写100个`^`比较容易数不过来，所以写成`HEAD~100`。

### 3.回退到指定版本

如果要回退到指定的版本，可以使用 `git reset --hard commit_id` 命令。其中，`commit_id` 是要回退到的版本的 commit id。

### 4.查看命令历史

如果回退后想恢复到新版本，但忘记了新版本的 commit id，可以使用 `git reflog` 命令查看命令历史。`git reflog` 会显示每一次命令的版本相关信息，包括 commit id、提交人、日期等，即使被回退放弃过的版本相关信息也会显示。



## （三）远程仓库

#### 1. 添加远程仓库

执行 `git remote add <remote-name> <url>` 命令添加一个远程仓库。远程仓库通常位于服务器上，用于团队成员之间的代码共享和协作。

#### 2. 从远程仓库克隆

使用 `git clone <url>` 命令可以从远程仓库克隆一个完整的本地副本。克隆操作会创建一个新的本地仓库，并将远程仓库中的所有文件、分支、提交历史等信息都复制到本地。

#### 3. 推送代码到远程仓库

执行 `git push` 命令将本地分支的更改推送到远程仓库。这样，其他团队成员就可以获取到最新的代码更改。

## （四）分支管理

### 1. 创建分支

使用 `git branch <branch-name>` 命令创建一个新的分支。分支是 Git 中用于并行开发的重要功能，不同的分支可以独立进行开发，互不影响。

执行 `git checkout <branch-name>` 命令切换到指定的分支。切换分支后，工作目录中的文件会相应地更新为该分支的最新版本。

当一个分支的开发完成后，可以使用 `git merge <branch-name>` 命令将其合并回主分支或其他目标分支。合并操作会将分支上的更改整合到目标分支中，实现代码的融合。

### 2. 切换分支

执行 `git checkout <branch-name>`或 `git switch <branch-name>`命令切换到指定的分支。切换分支后，工作目录中的文件会相应地更新为该分支的最新版本。

### 3. 合并分支

当一个分支的开发完成后，可以使用 `git merge <branch-name>` 命令将其合并回主分支或其他目标分支。合并操作会将分支上的更改整合到目标分支中，实现代码的融合。

### 4. 删除分支

使用 `git branch -d <branch-name>` 命令删除已经合并过的分支，或者使用 `git branch -D <branch-name>` 强制删除未合并的分支。删除分支后，该分支上的代码更改将不再单独存在，但已经合并到其他分支的更改仍然保留。

使用 `git pull <remote-name> <branch-name>` 命令从远程仓库拉取代码并合并到本地分支。当远程仓库有新的更改时，通过拉取操作可以将这些更改同步到本地，保持本地代码与远程仓库的一致性。